<div class="chat-container">
  <div class="chat-messages" #messagesContainer>
    <app-message
      *ngFor="let message of messages"
      [message]="message">
    </app-message>
  </div>

  <div class="valuation-form" *ngIf="showForm">
    <h3>Describe your electronic item:</h3>
    <form (ngSubmit)="submitValuation()">
      <div class="form-group">
        <label for="description">Item Description:</label>
        <textarea
          id="description"
          [(ngModel)]="valuationRequest.description"
          name="description"
          placeholder="e.g., iPhone 12 Pro Max, 256GB, Space Gray"
          required></textarea>
      </div>

      <div class="form-group">
        <label for="year">Year of Manufacture:</label>
        <input
          type="number"
          id="year"
          [(ngModel)]="valuationRequest.yearOfManufacture"
          name="yearOfManufacture"
          min="1900"
          max="2024"
          required>
      </div>

      <div class="form-group">
        <label for="condition">Condition:</label>
        <select
          id="condition"
          [(ngModel)]="valuationRequest.condition"
          name="condition"
          required>
          <option value="">Select condition</option>
          <option value="mint">Mint</option>
          <option value="excellent">Excellent</option>
          <option value="good">Good</option>
          <option value="fair">Fair</option>
          <option value="poor">Poor</option>
        </select>
      </div>

      <button type="submit" [disabled]="isLoading">Get Valuation</button>
    </form>
  </div>

  <div class="chat-input">
    <input
      type="text"
      [(ngModel)]="currentMessage"
      (keyup.enter)="sendMessage()"
      placeholder="Type your message..."
      [disabled]="isLoading">
    <button (click)="sendMessage()" [disabled]="isLoading">Send</button>
  </div>
</div>
